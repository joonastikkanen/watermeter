<body data-prerois="{{ prerois|length }}" data-pregaugerois="{{ pregaugerois|length }}" data-postrois="{{ postrois|length }}" data-postrois="{{ postgaugerois|length }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
<div class="container">
    <div class="controls">
                <h3>Pre Decimal Areas</h3>
                <b>00</b>.00<br>
                <div id="pre-roi-fields">
                <b>Numbers</b><br>
                <a class="button-editor" href="{{ url_for('roi_editor_route', roi_id='preroi', roi_name='pre-roi-form') }}">
                    <button>OPEN EDITOR</button><br>
                </a>
                </div>
                <div id="pre-gauge-roi-fields">
                    <b>Gauges</b><br>
                    <a class="button-editor" href="{{ url_for('roi_editor_route', roi_id='pregaugeroi', roi_name='pre-gauge-roi-form') }}">
                        <button>OPEN EDITOR</button><br>
                    </a>
                </div>
                <h3>Post decimal Areas</h3>
                00.<b>00</b><br>
                <div id="post-roi-fields">
                    <b>Numbers</b><br>
                    <a class="button-editor" href="{{ url_for('roi_editor_route', roi_id='postroi', roi_name='post-roi-form') }}">
                        <button>OPEN EDITOR</button><br>
                    </a>
                </div>
                <br>
                <div id="post-gauge-roi-fields">
                    <b>Gauges</b><br>
                    <a class="button-editor" href="{{ url_for('roi_editor_route', roi_id='postgaugeroi', roi_name='post-gauge-roi-form') }}">
                        <button>OPEN EDITOR</button><br>
                    </a>
                    </div>
                <form action="{{ url_for('update_config_route') }}" method="post" id="roi-form">
                <h2>PiCamera Configuration</h2><br>
                <b>LED Enabled</b><br>
                <label for="picamera_led_enabled_true">Enabled</label>
                <input type="radio" id="picamera_led_enabled_true" name="picamera_led_enabled_true" value="True" {% if picamera_led_enabled %}checked{% endif %}>
                <label for="picameraled_enabled_false">Disabled</label>
                <input type="radio" id="picamera_led_enabled_false" name="picamera_led_enabled_false" value="False" {% if not picamera_led_enabled %}checked{% endif %}>
                <br><br>
                <b>LED Brightness Configuration</b><br>
                <label for="picamera_led_brightness">Brightness:</label>
                <input type="range" id="picamera_led_brightness" name="picamera_led_brightness" min="0" max="1.0" value="{{ picamera_led_brightness }}" step="0.01"><br>
                Value: <output id="picamera_led_brightness_value"></output><br>
                <h2>Picture Configuration</h2>
                <b>Brightness Configuration</b><br>
                <label for="picamera_image_brightness">Brightness:</label>
                <input type="range" id="picamera_image_brightness" name="picamera_image_brightness" min="0" max="100" value="{{ picamera_image_brightness }}" step="1"><br>
                Value: <output id="picamera_image_brightness_value"></output><br>
                <b>Contrast Configuration</b><br>
                <label for="picamera_image_contrast">Contrast:</label>
                <input type="range" id="picamera_image_contrast" name="picamera_image_contrast" min="0" max="3.0" value="{{ picamera_image_contrast }}" step="0.01"><br>
                Value: <output id="picamera_image_contrast_value"></output><br>
                <b>Image Rotation</b><br>
                <label for="picamera_image_rotate">Angle:</label>
                <select name="picamera_image_rotate" id="picamera_image_rotate">
                  <option value="0" {% if picamera_image_rotate == "0" %}selected="selected"{% endif %}>0</option>
                  <option value="90" {% if picamera_image_rotate == "90" %}selected="selected"{% endif %}>90</option>
                  <option value="180" {% if picamera_image_rotate == "180" %}selected="selected"{% endif %}>180</option>
                  <option value="360" {% if picamera_image_rotate == "360" %}selected="selected"{% endif %}>360</option>
                </select><br><br>
                <h2>Background jobs runs interval (in minutes)</h2><br>
                <label for="watermeter_job_schedule">Schedule Time:</label>
                <input type="number" id="watermeter_job_schedule" name="watermeter_job_schedule" value="{{ watermeter_job_schedule }}" placeholder="Value in minutes"><br>
                <br>
                <br>
                <input type="submit" value="UPDATE CONFIGS">
            </form>
    </div>
    <div class="image">
        <img src="{{ url_for('preview_image') }}" alt="Preview image"><br>
        <b>Sensor data: {{ sensor_data }}m&#179;</b><br>
        <b>Picture timestamp: {{ capture_timestamp }}</b><br>
    </div>
</div>
<script src="{{url_for('static', filename='javascript/preview.js')}}"></script>
</body>
